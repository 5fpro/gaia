var loadjQuery = function(random_id, callback){
  url = '//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'
  var script = document.createElement("script")
  script.type = "text/javascript";
  if (script.readyState){  //IE
    script.onreadystatechange = function(){
      if (script.readyState == "loaded" ||
          script.readyState == "complete"){
        script.onreadystatechange = null;
        callback(random_id);
      }
    };
  } else {  //Others
    script.onload = function(){
      callback(random_id);
    };
  }
  script.src = url;
  document.getElementsByTagName("head")[0].appendChild(script);
}

var run = function(random_id) {
  document.addEventListener('DOMContentLoaded', function() {
    if(typeof(jQuery) == 'undefined') {
      loadjQuery(random_id, Gaia5FPRO.generate_selects);
    } else {
      Gaia5FPRO.generate_selects(random_id);
    }
  })
}

if(typeof(Turbolinks) != 'undefined' && document.readyState == 'complete') {
  if(typeof(jQuery) == 'undefined') {
    loadjQuery(randomId, Gaia5FPRO.generate_selects);
  } else {
    Gaia5FPRO.generate_selects(randomId);
  }
} else {
  run(randomId);
}
